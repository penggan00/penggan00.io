<!DOCTYPE html> <!-- 文档类型声明 -->
<html lang="en"> <!-- HTML 标签，指定语言为英语 -->
<head>
    <meta charset="UTF-8"> <!-- 设置文档的字符编码为 UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 响应式视口设置 -->
    <title>My Blog</title> <!-- 页面标题 -->
    <link rel="stylesheet" href="style.css"> <!-- 引入外部样式表 -->
</head>
<body>
    <header> <!-- 页面头部 -->
        <h1>My Blog</h1> <!-- 页面标题 -->
    </header>
    <main> <!-- 主要内容区域 -->
        <div class="search-container"> <!-- 搜索框容器 -->
            <input type="text" id="search-input" placeholder="Search articles..." oninput="searchArticles()"> <!-- 搜索输入框 -->
        </div>
        <div id="articles"></div> <!-- 文章列表容器 -->
        <div class="pagination"> <!-- 分页容器 -->
            <button id="prev" onclick="prevPage()">Previous</button> <!-- 上一页按钮 -->
            <span id="page-num"></span> <!-- 当前页数 -->
            <button id="next" onclick="nextPage()">Next</button> <!-- 下一页按钮 -->
        </div>
    </main>
    <script>
        const articles = [ 
            { title: "甲骨文云注册地址", link: "articles/article1.html", lastModified: "2024-06-04 21:03:00" }, 
            { title: "shadowsocks下载", link: "articles/article2.html", lastModified: "2024-06-06 22:30:00" }, 
            { title: "Article 3", link: "articles/article3.html", lastModified: "2024-05-28 14:15:00" }, 
            { title: "Article 4", link: "articles/article4.html", lastModified: "2024-05-25 09:45:00" }, 
            { title: "Article 5", link: "articles/article5.html", lastModified: "2024-05-22 08:30:00" }, 
            { title: "Article 6", link: "articles/article6.html", lastModified: "2024-05-20 16:20:00" }, 
            { title: "Article 7", link: "articles/article7.html", lastModified: "2024-05-18 17:00:00" }, 
            { title: "Article 8", link: "articles/article8.html", lastModified: "2024-05-15 13:10:00" }, 
            { title: "Article 9", link: "articles/article9.html", lastModified: "2024-05-12 11:55:00" }, 
            { title: "Article 10", link: "articles/article10.html", lastModified: "2024-05-10 10:05:00" }, 
            { title: "Article 11", link: "articles/article11.html", lastModified: "2024-05-08 14:40:00" }, 
            { title: "Article 12", link: "articles/article12.html", lastModified: "2024-05-05 09:00:00" }
        ]; 

        let currentPage = 1; // 当前页数
        const articlesPerPage = 8; // 每页显示的文章数量

        function displayArticles(articles, page) {
            const start = (page - 1) * articlesPerPage; // 计算当前页起始文章索引
            const end = page * articlesPerPage; // 计算当前页结束文章索引
            const paginatedArticles = articles.slice(start, end); // 获取当前页的文章

            const articlesContainer = document.getElementById('articles'); // 获取文章容器元素
            articlesContainer.innerHTML = ''; // 清空文章容器
            paginatedArticles.forEach(article => { // 遍历当前页的文章
                const articleDiv = document.createElement('div'); // 创建文章元素
                articleDiv.classList.add('post'); // 添加文章样式类
                articleDiv.innerHTML = `
                    <h2><a href="${article.link}">${article.title}</a></h2> <!-- 文章标题 -->
                    <div class="timestamp">${article.lastModified}</div> <!-- 文章最后修改时间 -->
                `;
                articlesContainer.appendChild(articleDiv); // 将文章元素添加到容器中
            });

            document.getElementById('page-num').innerText = `Page ${page} of ${Math.ceil(articles.length / articlesPerPage)}`; // 更新当前页数显示

            const paginationContainer = document.querySelector('.pagination'); // 获取分页容器元素
            paginationContainer.innerHTML = ''; // 清空分页容器

            const prevButton = document.createElement('button'); // 创建上一页按钮
            prevButton.textContent = "Previous"; // 设置按钮文本
            prevButton.onclick = prevPage; // 设置按钮点击事件
            paginationContainer.appendChild(prevButton); // 将按钮添加到分页容器中

            for (let i = 1; i <= Math.ceil(articles.length / articlesPerPage); i++) { // 创建页码按钮
                const pageNumButton = document.createElement('button'); // 创建页码按钮元素
                pageNumButton.textContent = i; // 设置按钮文本
                pageNumButton.onclick = function() { // 设置按钮点击事件
                    currentPage = i; // 更新当前页数
                    loadArticles(); // 重新加载文章
                };
                paginationContainer.appendChild(pageNumButton); // 将页码按钮添加到分页容器中
            }

            const nextButton = document.createElement('button'); // 创建下一页按钮
            nextButton.textContent = "Next"; // 设置按钮文本
            nextButton.onclick = nextPage; // 设置按钮点击事件
            paginationContainer.appendChild(nextButton); // 将按钮添加到分页容器中
        }

        function loadArticles() {
            const sortedArticles = articles.sort((a, b) => new Date(b.lastModified) - new Date(a.lastModified)); // 按最后修改时间排序文章
            displayArticles(sortedArticles, currentPage); // 显示当前页的文章
        }

        function nextPage() {
            if ((currentPage * articlesPerPage) < articles.length) { // 判断是否有下一页
                currentPage++; // 更新当前页数
                loadArticles(); // 重新加载文章
            }
        }

        function prevPage() {
            if (currentPage > 1) { // 判断是否有上一页
                currentPage--; // 更新当前页数
                loadArticles(); // 重新加载文章
            }
        }

        function searchArticles() {
            const query = document.getElementById('search-input').value.toLowerCase(); // 获取搜索关键词
            const filteredArticles = articles.filter(article => article.title.toLowerCase().includes(query)); // 过滤符合关键词的文章
            displayArticles(filteredArticles, 1); // 显示搜索结果
        }

        document.addEventListener('DOMContentLoaded', loadArticles); // 页面加载完成时加载文章
    </script>
</body>
</html>
